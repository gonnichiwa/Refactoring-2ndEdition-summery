# Chapter01 - 리팩터링: 첫번째 예시

`main.js` 예제 기준 리팩터링 맛보기 진행  

> 커밋 기준으로 진행

### 최초 생성 : `f809530` (24-04-30)
- 사람은 코드의 미적 상태에 민감함.
- 설계가 나쁜 시스템은 수정하기 어렵다.
- 읽기 어려운 코드는 수정하기도 어렵다.
- 여러 함수와 프로그램 요소로 재구성 한다.
- 구조가 빈약하면 수정하기 어렵다

<br/>

- 여러 개발 기법들이 버그 발생여지를 최소화 한다 해도 실제 작업은 사람이 하는 일
- 그래서 테스트의 역할은 중요함.
- 항상 테스트 자동화 해야함
- 테스트 프레임워크를 이용하여 모든 테스트는 단축키 하나로 실행할 수 있도록 설정함.
- 이런 내용은 `Chapter04`에서 제시함

> 리팩터링 하기전에 제대로 된 테스트부터 마련한다. 테스트는 반드시 자가진단(유닛테스트, 통합테스트) 하도록 만듬.

### statement() 함수 쪼개기

- 전체 동작을 각각의 부분으로 나눌 수 있는 지점을 찾음.
- switch문을 예시로 함.
- 어느 IDE던 코드 덩어리 블록치고 우클릭해서 Refactor.. 해서 함수로 빼는 기능이 있음. **함수 추출하기**  
- 함수로 빼면서 이름지정해주면 그대로 분리됨.

<br/>

- 함수 추출 이후 지금보다 더 명확하게 표현할 수 있는 간단한 방법은 없는지? 검토해봄
- 예시로는 `thisAmount`를 `result`로 변경함.
- 단위 함수의 반환값이므로
- 컴파일, 테스트, 커밋.

### statement() 함수 쪼개기2 : 좀 더 명확한 이름으로 변경

- 밥아저씨의 코딩스타일에 따라 처리함.
- js와 같은 동적타입언어를 사용할 때는 변수명에 타입이 드러나게 작성하면 도움됨.
- 파라미터 이름에 접두어로 타입이름을 적는다던지
- `perf`처럼 역할이 뚜렷하지 않을 때는 부정관사(a/an)를 붙임.

> 컴퓨터가 이해하는 코드는 바보도 작성할 수 있다. 사람이 이해하도록 작성하는 프로그래머가 진정한 실력자란다

